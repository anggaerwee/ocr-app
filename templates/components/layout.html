<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>{{title}}{% if subtitle %} - {{ subtitle}}{% endif %}</title>
    {% include "components/header.html" %}
  </head>
  <body>
    {% if user %}
    <nav class="text-gray-400 bg-gray-900 body-font fixed-top">
<div class="container mx-auto flex flex-wrap p-1 flex-col md:flex-row items-center">
  <a class="flex title-font font-medium items-center text-white my-2 md:mb-0">
      <img src="{{ url_for('static', filename='logo.png') }}" class="w-10 h-10 text-white p-1 bg-indigo-500 rounded-full">
    <span class="ml-3 text-xl">Converter`</span>
  </a>
  <nav class="md:ml-auto md:mr-auto flex flex-wrap items-center text-base justify-center">
    <a class="mr-5 hover:text-white {{ 'text-white font-semibold border-b-2 border-white' if request.path == '/dashboard' else '' }}" href="/dashboard">Dashboard</a>
    <a class="mr-5 hover:text-white {{ 'text-white font-semibold border-b-2 border-white' if request.path == '/convert' else '' }}" href="/convert">Convert</a>
    <a class="mr-5 hover:text-white {{ 'text-white font-semibold border-b-2 border-white' if request.path == '/data' else '' }}" href="/data">Data</a>
  </nav>
  <button type="submit" id="btn-logout" class="inline-flex items-center bg-gray-800 border-0 py-2 px-3 focus:outline-none hover:bg-gray-700 rounded text-base mt-1 md:mt-0">Log Out
  </button>
  </nav>
    {% endif %}
    <div id="loading-screen">
      <img
        src="{{ url_for('static', filename='loading.gif') }}"
        alt="Loading..."
      />
    </div>
    <div id="main-content" style="visibility: hidden">
  </div>

      {% block content %}{% endblock %}
    </div>
      {% include "components/footer.html" %}
  </body>
  <script>
    $("#btn-logout").on('click', function(){
      Swal.fire({
      title: "Log Out?",
      text: "Apakah anda yakin melakukan log out!",
      icon: "warning",
      showCancelButton: true,
      confirmButtonColor: "#3085d6",
      cancelButtonColor: "#d33",
      confirmButtonText: "Ya, Log out!",
      cancelButtonText: "Tidak",
    }).then((result) => {
      if (result.isConfirmed) {
        $.ajax({
          url:'/logout',
          method:'GET',
          success: function(){
            Swal.fire({
              title:"Berhasil",
              text:"Anda telah logout",
              icon:"success",
              timer:1500,
              showConfirmButton:false
            }).then(() =>  {
              window.location.href = "/";
            });
          },
          error: function(){
            Swal.fire("Error", "Gagal logout!", "error");
          }
        });
      }
    });
    })
  </script>
</html>
